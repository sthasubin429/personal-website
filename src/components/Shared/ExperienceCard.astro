---
import { ArrowUpRight } from '@lucide/astro';
import Pill from './Pill.astro';
const { years, role, company, link, description, keywords } = Astro.props;
---

<a
  class='w-full flex flex-col sm:flex-row justify-start items-start gap-2 sm:gap-8 relative group cursor-pointer p-4 lg:p-8'
  href={link}
  target='_blank'
  rel='noopener noreferrer'
  aria-label={`View details about ${role} at ${company}`}
>
  <div
    class='absolute inset-y-0 inset-x-0 z-0 hidden rounded-md transition duration-300 group-hover:block group-hover:bg-white/5 pointer-events-none'
    aria-hidden='true'
  >
  </div>

  <div class='flex-shrink-0 pt-2 w-full sm:w-[132px]'>
    <p class='text-xs uppercase font-medium'>
      {years}
    </p>
  </div>
  <div class='flex-1 min-w-0'>
    <h1 class='text-slate-200 font-medium text-lg group-hover:text-teal-400 transition-colors'>
      {role} &#183; {company}
      <ArrowUpRight
        class='inline w-4 h-4 transition-transform group-hover:translate-x-1 group-hover:-translate-y-1 group-hover:text-teal-400'
        aria-hidden='true'
        focusable='false'
      />
    </h1>
    <ul class='list-disc list-outside text-slate-400 my-2 ml-5'>
      {
        description.map((item: string) => (
          <li class='mb-1 [&>span]:text-slate-200 [&>span]:font-medium' set:html={item} />
        ))
      }
    </ul>
    <ul class='flex flex-wrap gap-2 mt-2'>
      {
        keywords.map((keyword: string) => (
          <li>
            <Pill text={keyword} />
          </li>
        ))
      }
    </ul>
  </div>
</a>
